# ðŸ›¡ï¸ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Pi-Hole Ð´Ð»Ñ Remnawave Node

Ð˜Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ð¿Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐµ ÑÐ¸ÑÑ‚ÐµÐ¼Ð½Ð¾Ð³Ð¾ Pi-Hole Ð´Ð»Ñ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ¸ Ñ€ÐµÐºÐ»Ð°Ð¼Ñ‹ Ð½Ð° VPN ÑÐµÑ€Ð²ÐµÑ€Ðµ.

---

## âš ï¸ Ð’Ð°Ð¶Ð½Ð¾: ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸

1. **Ð¡ÐÐÐ§ÐÐ›Ð** - Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Remnawave Node
2. **ÐŸÐžÐ¢ÐžÐœ** - Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Pi-Hole
3. **Ð’ ÐšÐžÐÐ¦Ð•** - ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ

---

## ðŸ“‹ Ð¨Ð°Ð³ 1: ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹

```bash
# ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ systemd-resolved (Ð¾Ð½ Ð·Ð°Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð¿Ð¾Ñ€Ñ‚ 53)
systemctl stop systemd-resolved
systemctl disable systemd-resolved

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ñ€Ñ‚ 53 ÑÐ²Ð¾Ð±Ð¾Ð´ÐµÐ½
ss -tulpn | grep :53

# Ð”Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð¿ÑƒÑÑ‚Ð¾ - ÐµÑÐ»Ð¸ Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ ÐµÑÑ‚ÑŒ, ÑÐ½Ð°Ñ‡Ð°Ð»Ð° Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ ÑÑ‚Ð¾Ñ‚ ÑÐµÑ€Ð²Ð¸Ñ
```

---

## ðŸ“‹ Ð¨Ð°Ð³ 2: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¹ DNS

```bash
# Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ€Ñ‹Ð¹ resolv.conf (ÑÑ‚Ð¾ symlink Ð½Ð° systemd-resolved)
rm -f /etc/resolv.conf

# Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¹ DNS Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ð° Ð²Ð¾ Ð²Ñ€ÐµÐ¼Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸
cat > /etc/resolv.conf << 'EOF'
nameserver 1.1.1.1
nameserver 8.8.8.8
EOF

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ‡Ñ‚Ð¾ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
ping -c 2 google.com

# Ð”Ð¾Ð»Ð¶ÐµÐ½ Ð¾Ñ‚Ð²ÐµÑ‚Ð¸Ñ‚ÑŒ
```
 

## ðŸ“‹ Ð¨Ð°Ð³ 4: ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Pi-Hole

```bash
# Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ resolv.conf Ñ Pi-Hole Ð² ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ðµ DNS
cat > /etc/resolv.conf << 'EOF'
nameserver 127.0.0.1
nameserver 1.1.1.1
EOF

# Ð—Ð°Ð¿Ñ€ÐµÑ‚Ð¸Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ñ„Ð°Ð¹Ð»Ð° (Ð·Ð°Ñ‰Ð¸Ñ‚Ð° Ð¾Ñ‚ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿Ð¸ÑÐ¸)
chattr +i /etc/resolv.conf

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ DNS Ñ€ÐµÐ·Ð¾Ð»Ð²Ð¸Ð½Ð³
dig @127.0.0.1 google.com +short

# Ð”Ð¾Ð»Ð¶ÐµÐ½ Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ IP Ð°Ð´Ñ€ÐµÑÐ° Google
```

---

## ðŸ“‹ Ð¨Ð°Ð³ 5: ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÑƒ Ñ€ÐµÐºÐ»Ð°Ð¼Ñ‹

```bash
# Ð¢ÐµÑÑ‚ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ¸ Ñ€ÐµÐºÐ»Ð°Ð¼Ð½Ñ‹Ñ… Ð´Ð¾Ð¼ÐµÐ½Ð¾Ð²
dig @127.0.0.1 doubleclick.net +short

# Ð”Ð¾Ð»Ð¶ÐµÐ½ Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ: 0.0.0.0 (Ð·Ð°Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½)

dig @127.0.0.1 ads.google.com +short

# Ð”Ð¾Ð»Ð¶ÐµÐ½ Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ: 0.0.0.0 (Ð·Ð°Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½)

# Ð¢ÐµÑÑ‚ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾Ð³Ð¾ Ð´Ð¾Ð¼ÐµÐ½Ð°
dig @127.0.0.1 google.com +short

# Ð”Ð¾Ð»Ð¶ÐµÐ½ Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ: Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ð¹ IP (Ð½Ðµ Ð·Ð°Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½)
```

---

## ðŸ“‹ Ð¨Ð°Ð³ 6: ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ Pi-Hole

```bash
# Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Pi-Hole
pihole status

# ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ:
#  [âœ“] Pi-hole blocking is enabled

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð²ÐµÑ€ÑÐ¸ÑŽ
pihole -v

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ‡Ñ‚Ð¾ Ð¿Ð¾Ñ€Ñ‚ 53 Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚
ss -tulpn | grep :53

# ÐžÐ¶Ð¸Ð´Ð°ÐµÑ‚ÑÑ:
# udp   LISTEN   0.0.0.0:53
# tcp   LISTEN   0.0.0.0:53
```

---

## ðŸ“‹ Ð¨Ð°Ð³ 7: ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Remnawave Node

```bash
cd /opt/remnanode
docker compose restart

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ‡Ñ‚Ð¾ Node Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Pi-Hole DNS
docker exec remnanode cat /etc/resolv.conf

# Ð”Ð¾Ð»Ð¶Ð½Ð¾ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ:
# nameserver 127.0.0.1
# nameserver 1.1.1.1
```

---

## ðŸ“‹ Ð¨Ð°Ð³ 8: ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ Ð¸Ð· ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°

```bash
# Ð¢ÐµÑÑ‚ DNS Ð¸Ð· ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð° Node
docker exec remnanode nslookup google.com

# Ð”Ð¾Ð»Ð¶ÐµÐ½ Ð¾Ñ‚Ð²ÐµÑ‚Ð¸Ñ‚ÑŒ Ñ‡ÐµÑ€ÐµÐ· Pi-Hole

# Ð¢ÐµÑÑ‚ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ¸ Ð¸Ð· ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°
docker exec remnanode nslookup doubleclick.net

# Ð”Ð¾Ð»Ð¶ÐµÐ½ Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ: Address: 0.0.0.0

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸ Node Ð½Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ¸
docker logs remnanode --tail 30

# ÐÐµ Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ Ð¾ÑˆÐ¸Ð±Ð¾Ðº DNS
```

---

## ðŸ“‹ Ð¨Ð°Ð³ 9: Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ðº Web Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÑƒ Pi-Hole

```bash
# Ð£Ð·Ð½Ð°Ñ‚ÑŒ IP ÑÐµÑ€Ð²ÐµÑ€Ð°
ip a | grep "inet " | grep -v 127.0.0.1

# ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ:
# http://Ð²Ð°Ñˆ_IP_ÑÐµÑ€Ð²ÐµÑ€Ð°/admin

# Ð›Ð¾Ð³Ð¸Ð½: admin
# ÐŸÐ°Ñ€Ð¾Ð»ÑŒ: (Ñ‚Ð¾Ñ‚ Ñ‡Ñ‚Ð¾ Ð¿Ð¾ÐºÐ°Ð·Ð°Ð»Ð¸ Ð¿Ñ€Ð¸ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐµ)
```

### Ð•ÑÐ»Ð¸ Ð·Ð°Ð±Ñ‹Ð»Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ:

```bash
# Ð¡Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Pi-Hole
pihole -a -p

# Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ Ð´Ð²Ð°Ð¶Ð´Ñ‹
```

---

## ðŸ“‹ Ð¨Ð°Ð³ 10: ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ DNS Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²

```bash
# ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ DNS Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
pihole -t

# ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Ctrl+C Ð´Ð»Ñ Ð²Ñ‹Ñ…Ð¾Ð´Ð°

# ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÑƒ
pihole -c

# ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ ÐºÑ€Ð°Ñ‚ÐºÑƒÑŽ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÑƒ
pihole status
```

---

## ðŸ”§ Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)

### Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð¿ÑƒÐ»ÑÑ€Ð½Ñ‹Ðµ Ð±Ð»Ð¾Ðº-Ð»Ð¸ÑÑ‚Ñ‹:

```bash
# Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ ÑÐ¿Ð¸ÑÐºÐ¸ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ¸
sudo sqlite3 /etc/pihole/gravity.db << 'EOF'
INSERT INTO adlist (address, enabled, comment) VALUES
('https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts', 1, 'StevenBlack Unified'),
('https://adaway.org/hosts.txt', 1, 'AdAway'),
('https://v.firebog.net/hosts/AdguardDNS.txt', 1, 'AdGuard DNS'),
('https://pgl.yoyo.org/adservers/serverlist.php?hostformat=hosts&showintro=0', 1, 'Yoyo');
EOF

# ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÑÐ¿Ð¸ÑÐºÐ¸ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ¸
pihole -g

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð·Ð°Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… Ð´Ð¾Ð¼ÐµÐ½Ð¾Ð²
pihole status
```

---

### Ð—Ð°Ñ‰Ð¸Ñ‚Ð¸Ñ‚ÑŒ Web Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ñ‡ÐµÑ€ÐµÐ· Caddy (HTTPS):

```bash
cd /opt/selfsteel
nano Caddyfile
```

Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð² ÐºÐ¾Ð½ÐµÑ† Ñ„Ð°Ð¹Ð»Ð°:

```
pihole.Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.su {
    reverse_proxy 127.0.0.1:80
}
```

ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Caddy:

```bash
docker compose restart
```

Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿:
```
https://pihole.Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.su/admin
```

---

### ÐÐ°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ firewall (ÐµÑÐ»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚Ðµ):

```bash
# Ð Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ Ð¿Ð¾Ñ€Ñ‚Ñ‹ Pi-Hole
ufw allow 53/tcp
ufw allow 53/udp
ufw allow 80/tcp

# ÐŸÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ firewall
ufw reload
```

---

## ðŸ“Š ÐŸÐ¾Ð»ÐµÐ·Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Pi-Hole

| ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|---------|----------|
| `pihole status` | ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ |
| `pihole -v` | ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð²ÐµÑ€ÑÐ¸ÑŽ |
| `pihole enable` | Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÑƒ |
| `pihole disable` | ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÑƒ |
| `pihole disable 5m` | ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð° 5 Ð¼Ð¸Ð½ÑƒÑ‚ |
| `pihole -g` | ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð±Ð»Ð¾Ðº-Ð»Ð¸ÑÑ‚Ñ‹ |
| `pihole -up` | ÐžÐ±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Pi-Hole |
| `pihole restartdns` | ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ DNS |
| `pihole -t` | ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² |
| `pihole -c` | ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÑƒ |
| `pihole -w example.com` | Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð² Ð±ÐµÐ»Ñ‹Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº |
| `pihole -b ads.com` | Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð² Ñ‡ÐµÑ€Ð½Ñ‹Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº |
| `pihole -a -p` | Ð¡Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ |
| `pihole flush` | ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸ |

---

## âœ… ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¾Ñ‡Ð½Ñ‹Ð¹ Ñ‡ÐµÐº-Ð»Ð¸ÑÑ‚

ÐŸÐ¾ÑÐ»Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ:

- [ ] Pi-Hole Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½: `pihole status` âœ…
- [ ] ÐŸÐ¾Ñ€Ñ‚ 53 Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚: `ss -tulpn | grep :53` âœ…
- [ ] DNS Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚: `dig @127.0.0.1 google.com +short` âœ…
- [ ] Ð‘Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚: `dig @127.0.0.1 doubleclick.net +short` â†’ 0.0.0.0 âœ…
- [ ] Node Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ Pi-Hole: `docker exec remnanode cat /etc/resolv.conf` âœ…
- [ ] Web Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½: `http://IP/admin` âœ…
- [ ] Ð›Ð¾Ð³Ð¸ Ð±ÐµÐ· Ð¾ÑˆÐ¸Ð±Ð¾Ðº: `docker logs remnanode --tail 30` âœ…

---

## ðŸ› ï¸ Ð ÐµÑˆÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: ÐŸÐ¾Ñ€Ñ‚ 53 Ð·Ð°Ð½ÑÑ‚

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ñ‡Ñ‚Ð¾ Ð·Ð°Ð½Ð¸Ð¼Ð°ÐµÑ‚ Ð¿Ð¾Ñ€Ñ‚
ss -tulpn | grep :53

# ÐžÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ systemd-resolved
systemctl stop systemd-resolved
systemctl disable systemd-resolved

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Pi-Hole
pihole restartdns
```

---

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: DNS Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ ÑÑ‚Ð°Ñ‚ÑƒÑ FTL (Ð´Ð²Ð¸Ð¶Ð¾Ðº Pi-Hole)
systemctl status pihole-FTL

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ FTL
systemctl restart pihole-FTL

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸
tail -f /var/log/pihole/pihole.log
```

---

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: resolv.conf Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÑ‚ÑÑ

```bash
# Ð—Ð°Ñ‰Ð¸Ñ‚Ð¸Ñ‚ÑŒ Ñ„Ð°Ð¹Ð» Ð¾Ñ‚ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹
chattr +i /etc/resolv.conf

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð·Ð°Ñ‰Ð¸Ñ‚Ñƒ
lsattr /etc/resolv.conf

# Ð”Ð¾Ð»Ð¶Ð½Ð¾ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ: ----i---------
```

---

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: Remnawave Node Ð½Ðµ Ð²Ð¸Ð´Ð¸Ñ‚ Pi-Hole

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ DNS Ð² ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ðµ
docker exec remnanode cat /etc/resolv.conf

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€
cd /opt/remnanode
docker compose restart

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð»Ð¾Ð³Ð¸
docker logs remnanode --tail 30
```

---

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: Web Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿ÐµÐ½

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ lighttpd (Ð²ÐµÐ±-ÑÐµÑ€Ð²ÐµÑ€ Pi-Hole)
systemctl status lighttpd

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ lighttpd
systemctl restart lighttpd

# ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ Ð¿Ð¾Ñ€Ñ‚ 80
ss -tulpn | grep :80
```

---

## ðŸŽ¯ Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       VPS Server                â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Pi-Hole (Systemd)      â”‚  â”‚
â”‚  â”‚   Port: 53               â”‚  â”‚
â”‚  â”‚   Ð‘Ð»Ð¾ÐºÐ¸Ñ€ÑƒÐµÑ‚: 170k+ URLs  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚              â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Remnawave Node (Docker) â”‚  â”‚
â”‚  â”‚  network_mode: host      â”‚  â”‚
â”‚  â”‚  DNS: 127.0.0.1          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚              â–²                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Caddy (Docker)         â”‚  â”‚
â”‚  â”‚   Port: 443              â”‚  â”‚
â”‚  â”‚   HTTPS + Ð¼Ð°ÑÐºÐ¸Ñ€Ð¾Ð²ÐºÐ°     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â–²
              â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  VPN ÐšÐ»Ð¸ÐµÐ½Ñ‚Ñ‹    â”‚
     â”‚  Ñ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ¾Ð¹  â”‚
     â”‚  Ñ€ÐµÐºÐ»Ð°Ð¼Ñ‹        â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“Š Ð§Ñ‚Ð¾ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ð»Ð¾ÑÑŒ

- âœ… Ð‘Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ° Ñ€ÐµÐºÐ»Ð°Ð¼Ñ‹ Ð´Ð»Ñ Ð²ÑÐµÑ… VPN ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð²
- âœ… Ð‘Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÐ° Ñ‚Ñ€ÐµÐºÐµÑ€Ð¾Ð² Ð¸ Ð²Ñ€ÐµÐ´Ð¾Ð½Ð¾ÑÐ½Ñ‹Ñ… ÑÐ°Ð¹Ñ‚Ð¾Ð²
- âœ… Web Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð´Ð»Ñ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ
- âœ… Ð¡Ñ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ° DNS Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²
- âœ… Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ DNS ÐºÑÑˆ
- âœ… Ð—Ð°Ñ‰Ð¸Ñ‚Ð° Ð¾Ñ‚ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐº
- âœ… ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð° Ñ Remnawave Node

---

## ðŸš€ Ð“Ð¾Ñ‚Ð¾Ð²Ð¾!

Pi-Hole ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ Remnawave Node. 

Ð’ÑÐµ VPN ÐºÐ»Ð¸ÐµÐ½Ñ‚Ñ‹ Ñ‚ÐµÐ¿ÐµÑ€ÑŒ Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÑŽÑ‚ Ð±Ð»Ð¾ÐºÐ¸Ñ€Ð¾Ð²ÐºÑƒ Ñ€ÐµÐºÐ»Ð°Ð¼Ñ‹ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸! ðŸŽ‰
